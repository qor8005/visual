<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <img src="img/layer-7.png" alt="사람" class="human">
    
    <div class="textWrap">
        <img src="img/masthead-logo.svg" alt="fix nothing" class="text3d">
    </div>
    <img src="img/layer-1.jpg" alt="벽" class="bg">
    <img src="img/layer-9.png" alt="파이프" class="pipe">
    <script>
            let human;
            let text3d;
            let bg;
            let pipe;
            let x = 0;
            let y = 0;
            let mx = 0;
            let my = 0;
            let speed = 0.009;

        window.onload = function(){
            human = document.getElementsByClassName('human')[0];
            text3d = document.getElementsByClassName('text3d')[0];
            bg = document.getElementsByClassName('bg')[0];
            pipe = document.getElementsByClassName('pipe')[0];

            /* window.addEventListener('mousemove',function(){
                mouseFunc();
            }) */

            //위와 동일 압축시킴
            window.addEventListener('mousemove',mouseFunc)
            
            function mouseFunc(e){
                //window.innerWidth  -->화면의 넓이
                console.log(e.clientY)
                x = e.clientX - window.innerWidth / 2;
                y = e.clientY - window.innerHeight / 2;
                //clientY 현제 마우스 y값을 담는다
                
            }
            loop();
        }
        function loop(){
                mx += (x - mx) * speed;  //mx = mx + (x - mx) * speed
                my += (y - my) * speed;  
                human.style.transform='translate(' + -(mx/9) + 'px,' +  (my/9) + 'px)';
                bg.style.transform='translate(' + (mx/8) + 'px,' +  -(my/8) + 'px)';
                pipe.style.transform='translate(' + (mx/4) + 'px,' +  (my/3) + 'px)';
                // 3d 텍스트
                //https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/translate3d


                text3d.style.transform='translate3d(' + -(mx/4) + 'px,' + -(my/4) + 'px, 0px) rotate3d(0,1,0,' + -(mx/30) + 'deg)';
                // https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotate3d
                console.log(mx)
                window.requestAnimationFrame(loop);
                // requestAnimationFrame 계속 호출 시킨다.
            }
    </script>
</body>
</html>